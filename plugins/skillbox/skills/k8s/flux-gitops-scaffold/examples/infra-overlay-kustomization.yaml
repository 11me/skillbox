# infra/{env}/{component}/kustomization.yaml
# Environment overlay - references base and adds ConfigMapGenerator for values
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: flux-system

resources:
  - ../../components/base/cert-manager  # Reference shared base

generatorOptions:
  disableNameSuffixHash: true  # CRITICAL: prevents name suffix changes

configMapGenerator:
  - name: cert-manager-values
    files:
      - values.yaml  # Environment-specific values
